package com.tistory.shanepark.file.csv;

import com.opencsv.CSVWriter;

import java.io.*;
import java.time.LocalDateTime;

public class CsvFileWriteIdr {
    final static String folder = System.getProperty("user.home") + "/Documents";

    public static void main(String[] args) {
        File file = new File(folder, "test.csv");
        try (
                FileOutputStream fos = new FileOutputStream(file);
                OutputStreamWriter osw = new OutputStreamWriter(fos, "UTF-8");
                CSVWriter writer = new CSVWriter(osw);
        ) {
            String time = LocalDateTime.now().toString();
            String type = "json";
            String data = "{\"response\":{\"body\":{\"totalCount\":23,\"items\":[{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"66\",\"so2Value\":\"0.004\",\"coValue\":\"0.5\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"34\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"21\",\"no2Flag\":null,\"no2Grade\":\"2\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 17:00\",\"coGrade\":\"1\",\"no2Value\":\"0.031\",\"pm10Grade\":\"2\",\"o3Value\":\"0.024\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"66\",\"so2Value\":\"0.003\",\"coValue\":\"0.5\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"34\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"20\",\"no2Flag\":null,\"no2Grade\":\"2\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 16:00\",\"coGrade\":\"1\",\"no2Value\":\"0.037\",\"pm10Grade\":\"2\",\"o3Value\":\"0.019\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"66\",\"so2Value\":\"0.004\",\"coValue\":\"0.6\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"41\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"24\",\"no2Flag\":null,\"no2Grade\":\"2\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 15:00\",\"coGrade\":\"1\",\"no2Value\":\"0.040\",\"pm10Grade\":\"2\",\"o3Value\":\"0.017\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"70\",\"so2Value\":\"0.004\",\"coValue\":\"0.7\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"40\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"24\",\"no2Flag\":null,\"no2Grade\":\"2\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 14:00\",\"coGrade\":\"1\",\"no2Value\":\"0.042\",\"pm10Grade\":\"2\",\"o3Value\":\"0.017\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"65\",\"so2Value\":\"0.004\",\"coValue\":\"0.6\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"42\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"23\",\"no2Flag\":null,\"no2Grade\":\"2\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 13:00\",\"coGrade\":\"1\",\"no2Value\":\"0.039\",\"pm10Grade\":\"2\",\"o3Value\":\"0.017\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"65\",\"so2Value\":\"0.004\",\"coValue\":\"0.6\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"43\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"23\",\"no2Flag\":null,\"no2Grade\":\"2\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 12:00\",\"coGrade\":\"1\",\"no2Value\":\"0.039\",\"pm10Grade\":\"2\",\"o3Value\":\"0.014\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"70\",\"so2Value\":\"0.004\",\"coValue\":\"0.7\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"44\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"21\",\"no2Flag\":null,\"no2Grade\":\"2\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 11:00\",\"coGrade\":\"1\",\"no2Value\":\"0.042\",\"pm10Grade\":\"2\",\"o3Value\":\"0.011\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"65\",\"so2Value\":\"0.004\",\"coValue\":\"0.7\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"45\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"21\",\"no2Flag\":null,\"no2Grade\":\"2\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 10:00\",\"coGrade\":\"1\",\"no2Value\":\"0.039\",\"pm10Grade\":\"2\",\"o3Value\":\"0.008\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"70\",\"so2Value\":\"0.004\",\"coValue\":\"0.8\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"39\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"18\",\"no2Flag\":null,\"no2Grade\":\"2\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 09:00\",\"coGrade\":\"1\",\"no2Value\":\"0.042\",\"pm10Grade\":\"2\",\"o3Value\":\"0.005\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"65\",\"so2Value\":\"0.004\",\"coValue\":\"0.7\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"39\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"19\",\"no2Flag\":null,\"no2Grade\":\"2\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 08:00\",\"coGrade\":\"1\",\"no2Value\":\"0.039\",\"pm10Grade\":\"2\",\"o3Value\":\"0.003\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"66\",\"so2Value\":\"0.003\",\"coValue\":\"0.7\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"38\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"18\",\"no2Flag\":null,\"no2Grade\":\"2\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 07:00\",\"coGrade\":\"1\",\"no2Value\":\"0.040\",\"pm10Grade\":\"2\",\"o3Value\":\"0.002\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"63\",\"so2Value\":\"0.003\",\"coValue\":\"0.7\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"30\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"18\",\"no2Flag\":null,\"no2Grade\":\"2\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 06:00\",\"coGrade\":\"1\",\"no2Value\":\"0.038\",\"pm10Grade\":\"2\",\"o3Value\":\"0.003\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"52\",\"so2Value\":\"0.003\",\"coValue\":\"0.5\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"27\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"15\",\"no2Flag\":null,\"no2Grade\":\"1\",\"o3Flag\":null,\"pm25Grade\":\"1\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 05:00\",\"coGrade\":\"1\",\"no2Value\":\"0.030\",\"pm10Grade\":\"2\",\"o3Value\":\"0.009\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"55\",\"so2Value\":\"0.004\",\"coValue\":\"0.5\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"24\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"13\",\"no2Flag\":null,\"no2Grade\":\"1\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 04:00\",\"coGrade\":\"1\",\"no2Value\":\"0.028\",\"pm10Grade\":\"2\",\"o3Value\":\"0.011\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"58\",\"so2Value\":\"0.003\",\"coValue\":\"0.5\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"26\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"14\",\"no2Flag\":null,\"no2Grade\":\"1\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 03:00\",\"coGrade\":\"1\",\"no2Value\":\"0.027\",\"pm10Grade\":\"2\",\"o3Value\":\"0.014\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"61\",\"so2Value\":\"0.003\",\"coValue\":\"0.5\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"27\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"13\",\"no2Flag\":null,\"no2Grade\":\"2\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 02:00\",\"coGrade\":\"1\",\"no2Value\":\"0.032\",\"pm10Grade\":\"2\",\"o3Value\":\"0.011\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"64\",\"so2Value\":\"0.003\",\"coValue\":\"0.4\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"32\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"15\",\"no2Flag\":null,\"no2Grade\":\"1\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-17 01:00\",\"coGrade\":\"1\",\"no2Value\":\"0.027\",\"pm10Grade\":\"2\",\"o3Value\":\"0.017\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"67\",\"so2Value\":\"0.003\",\"coValue\":\"0.5\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"37\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"15\",\"no2Flag\":null,\"no2Grade\":\"2\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-16 24:00\",\"coGrade\":\"1\",\"no2Value\":\"0.037\",\"pm10Grade\":\"2\",\"o3Value\":\"0.009\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"69\",\"so2Value\":\"0.003\",\"coValue\":\"0.5\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"42\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"17\",\"no2Flag\":null,\"no2Grade\":\"2\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-16 23:00\",\"coGrade\":\"1\",\"no2Value\":\"0.040\",\"pm10Grade\":\"2\",\"o3Value\":\"0.010\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"71\",\"so2Value\":\"0.003\",\"coValue\":\"0.6\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"45\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"18\",\"no2Flag\":null,\"no2Grade\":\"2\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-16 22:00\",\"coGrade\":\"1\",\"no2Value\":\"0.043\",\"pm10Grade\":\"2\",\"o3Value\":\"0.009\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"72\",\"so2Value\":\"0.003\",\"coValue\":\"0.5\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"48\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"20\",\"no2Flag\":null,\"no2Grade\":\"1\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-16 21:00\",\"coGrade\":\"1\",\"no2Value\":\"0.028\",\"pm10Grade\":\"2\",\"o3Value\":\"0.023\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"74\",\"so2Value\":\"0.004\",\"coValue\":\"0.5\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"52\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"20\",\"no2Flag\":null,\"no2Grade\":\"1\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-16 20:00\",\"coGrade\":\"1\",\"no2Value\":\"0.029\",\"pm10Grade\":\"2\",\"o3Value\":\"0.024\"},{\"so2Grade\":\"1\",\"coFlag\":null,\"khaiValue\":\"75\",\"so2Value\":\"0.004\",\"coValue\":\"0.6\",\"pm25Flag\":null,\"pm10Flag\":null,\"pm10Value\":\"53\",\"o3Grade\":\"1\",\"khaiGrade\":\"2\",\"pm25Value\":\"22\",\"no2Flag\":null,\"no2Grade\":\"1\",\"o3Flag\":null,\"pm25Grade\":\"2\",\"so2Flag\":null,\"dataTime\":\"2021-11-16 19:00\",\"coGrade\":\"1\",\"no2Value\":\"0.028\",\"pm10Grade\":\"2\",\"o3Value\":\"0.027\"}],\"pageNo\":1,\"numOfRows\":100},\"header\":{\"resultMsg\":\"NORMAL_CODE\",\"resultCode\":\"00\"}}}";
            String[] row = {time, type, data};
            writer.writeNext(row, true);

        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }

    }
}
